---
title: 'jekyll to Gatsby ë¸”ë¡œê·¸ğŸ‘©â€ğŸ”§'
updated: 2020-03-09 14:21
date: 2020-01-15
excerpt: 'jekyll ë¸”ë¡œê·¸ë¥¼ gatsby ë¸”ë¡œê·¸ë¡œ ì˜®ê¸°ê¸° '
tags: 
   - gatsby
   - web
banner: ./thumb.png
---
ì´ì „ì˜ tech ë¸”ë¡œê·¸ëŠ” github pages ë¥¼ ì´ìš©í•˜ì—¬, jekyll ê¸°ë°˜ì˜ ì •ì  ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë˜ì–´ ìˆì—ˆë‹¤. ì´ëŸ° ë°©ì‹ì€ ê°„ë‹¨í•˜ê³  ì‰½ê¸´ í•˜ì§€ë§Œ, jekyll ë¬¸ë²•ê³¼ ruby ì— ìµìˆ™í•˜ì§€ ì•Šì€ ì´ìƒ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ” ë° í•œê³„ê°€ ìˆë‹¤. ì—¬ëŸ¬ëª¨ë¡œ ê°ˆì¦ì„ ëŠë¼ë˜ ì¤‘, [outsiderë‹˜ íšŒê³ ](https://blog.outsider.ne.kr/1426)ì—ì„œ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸° gatsbyë¼ëŠ” ê¸€ì„ ë§Œë‚˜ê²Œ ë˜ì—ˆë‹¤. ìµœê·¼ì— ì´ë¯¸ netlifyì˜ ë©‹ì§ì— ë§¤ë£Œë˜ì—ˆê¸°ì— ì´ ì¡°í•©ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì–´ì¡Œë‹¤. 

## Gatsby?

React component êµ¬ì„±ìœ¼ë¡œ ë·°ë¥¼ ë§Œë“¤ê³ , (ê¸°ë³¸ì ìœ¼ë¡œ) GraphQL ì„ í†µí•´ ì •ì  ì»¨í…ì¸ ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ì˜ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°ì´ë‹¤. ë°ì´í„°ì†ŒìŠ¤ëŠ” ì¼ë°˜ì ì¸ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ì¼ ìˆ˜ë„, ì›Œë“œí”„ë ˆìŠ¤ ê°™ì€ CMS ê°€ ë  ìˆ˜ ìˆë‹¤. í”ŒëŸ¬ê·¸ì¸ì´ ë§ì•„ì„œ ë‹¤ì–‘í•œ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ ì¥ì .

GraphQL ì€ ì¼ë°˜ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ê³  ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” SQLê³¼ëŠ” ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì§ˆì˜ë¥¼ ë˜ì§„ë‹¤. ë§ˆì¹˜ ê·¸ëƒ¥ json í˜•íƒœì²˜ëŸ¼. ë°ì´í„°ê°€ ìˆê³ , ê·¸ ì•ˆì˜ ì–´ë–¤ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¬ì§€ ëª…ì‹œí•˜ëŠ” ë°©ì‹ì´ë‹¤. ğŸ™‚

```graphql
    query {
        posts: allPost(sort: { fields: date, order: DESC }) {
          nodes {
            slug
            title
            date(formatString: "YYYY.MM.DD")
            excerpt
            description
            tags {
              name
              slug
            }
          }
        }
      }
```
gatsbyëŠ” ë¹Œë“œ ì‹œì— GraphQL ì„ ì‚¬ìš©í•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , ì‚¬ìš©ëœ ì¿¼ë¦¬ëŠ” ì§€ì›Œì¤€ë‹¤. ì´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ React componentë¥¼ ê·¸ë¦¬ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. SPA ì˜ ë°©ì‹ì„ ì°¨ìš©í•œ ì •ì  ì‚¬ì´íŠ¸ ìƒì„±ê¸°ë¼ë‹ˆ!

## ê·¸ëŸ°ë° ë­ê°€ ë” í•„ìš”í•´ìš”?

ê¸°ì¡´ì˜ ë¸”ë¡œê·¸ë„ ë§ì´ ë¶€ì¡±í•˜ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, ë‹¤ìŒ ì´ìŠˆê°€ ìˆì—ˆë‹¤. 

- ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê¸€ì„ ë³´ê¸°ê°€ ì–´ë µë‹¤.
- í™ˆì´ ë°”ë¡œ ê¸€ ëª©ë¡ì´ì–´ì„œ ì¡°ê¸ˆ ë‹¨ì¡°ë¡­ë‹¤.

ì´ ë¶€ë¶„ì„ í•´ê²°í•˜ë©´ì„œë„ ê¸°ì¡´ ë¸”ë¡œê·¸ì˜ ê°„ê²°í•¨ì€ ê·¸ëŒ€ë¡œ ê°€ì ¸ê°€ëŠ” ìŠ¤íƒ€í„°ë¥¼ ì°¾ì•„ë‚˜ì„°ë‹¤. ìŠ¤íƒ€í„° ëª©ë¡ì€[ê³µì‹ í™ˆí˜ì´ì§€](https://www.gatsbyjs.org/starters/?v=2) ì— ì˜ ì •ë¦¬ ë˜ì–´ìˆë‹¤. =)

ê·¸ ê²°ê³¼, [ë¯¸ë‹ˆë©€ ë¸”ë¡œê·¸](https://github.com/LekoArts/gatsby-themes/tree/master/themes/gatsby-theme-minimal-blog) ë¥¼ ì‚¬ìš©í•˜ë©´ ì¢‹ê² ë‹¤ëŠ” ìƒê°ì„ í–ˆë‹¤. ë°ëª¨ëŠ” [https://minimal-blog.lekoarts.de/](https://minimal-blog.lekoarts.de/) ì—ì„œ. gatsby ìŠ¤íƒ€í„°ëŠ” ë§ì´ë“¤ ë‹¤í¬ëª¨ë“œë¥¼ ì§€ì›í•˜ë˜ë°, ì´ í…Œë§ˆ ì—­ì‹œ ë§ˆì°¬ê°€ì§€ë‹¤. ë”± í•„ìš”í•œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆëŠ” ê²ƒì´ ë§ˆìŒì— ë“¤ì—ˆë‹¤. ì—…ë°ì´íŠ¸ê°€ ìµœê·¼ê¹Œì§€ ê³„ì†ëœë‹¤ëŠ” ì ë„ í•œëª«í–ˆë‹¤.

## Gatsby CLI ì„¤ì¹˜ && í…œí”Œë¦¿ìœ¼ë¡œ ë°”ë¡œ ë¸”ë¡œê·¸ ë§Œë“¤ê¸°

OS X ë¥¼ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ ë”ìš± ì†ì‰½ê²Œ ë¸”ë¡œê·¸ë¥¼ ë„ìš¸ ìˆ˜ ìˆë‹¤. 

Quick Startë¥¼ ë³´ê³  ë°”ë¡œ CLI ë¥¼ ì„¤ì¹˜í•œë‹¤. [https://www.gatsbyjs.org/docs/quick-start/](https://www.gatsbyjs.org/docs/quick-start/) 
```bash
    npm install -g gatsby-cli
```
ìŠ¤íƒ€í„°ë¡œ ë°”ë¡œ ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•˜ëŠ” ê±´ ë” ì‰½ë‹¤. 
```bash
    gatsby new minimal-blog LekoArts/gatsby-starter-minimal-blog
    # gastsby new <í”„ë¡œì íŠ¸ì´ë¦„> <ìŠ¤íƒ€í„°url> 
```
ì´ë ‡ê²Œí•˜ë©´ `minimal-blog` ë¼ëŠ” ì´ë¦„ì˜ í´ë”ê°€ ë§Œë“¤ì–´ì§€ê³ , í•´ë‹¹ ë£¨íŠ¸ë¡œ ì´ë™í•´ì„œ `gastsby develop` ì„ ì…ë ¥í•˜ë©´ ë°”ë¡œ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì— dev í™˜ê²½ì´ ë§ˆë ¨ëœë‹¤. 

![img/scrn_1.png](img/scrn_1.png)

![img/scrn_3.png](img/scrn_3.png)

ì´ëŸ¬ë©´ ë°”ë¡œ ê¹”ë”í•œ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤! 

# ëì¸ ì¤„ ì•Œì•˜ë‹ˆ? ğŸ‘½ í—˜ë‚œí•œ ì»¤ìŠ¤í…€ì˜ ê¸¸

ìŠ¤íƒ€í„°ë¡œ ì‹œì‘í•˜ë©´, ë…¸ë“œ ëª¨ë“ˆë¡œ ìŠ¤íƒ€í„°ê°€ ë“¤ì–´ê°„ ìƒíƒœì´ê¸° ë•Œë¬¸ì— ì»´í¬ë„ŒíŠ¸ë¥¼ ì§ì ‘ í¸ì§‘í•˜ëŠ” ê²ƒì´ ì–´ë µë‹¤. ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ì•¼í•˜ë‚˜? gatsbyì—ì„œëŠ” ì»¤ìŠ¤í…€ í˜¹ì€ ì˜¤ë²„ë¼ì´ë”©í•˜ëŠ” í–‰ìœ„ë¥¼ `shadowing` ì´ë¼ê³  ë¶€ë¥´ëŠ”ë°, ì¹œì ˆí•˜ê²Œë„ ìš°ë¦¬ê°€ ì‚¬ìš©í•œ ìŠ¤íƒ€í„°ì— ì–´ë–»ê²Œ ì‰ë„ì‰ì„ í•˜ëŠ”ì§€ ì„¤ëª…ë˜ì–´ìˆë‹¤.  gastbyì—ì„œì˜ ì‰ë„ì‰ì„ ì•Œê³  ì‹¶ë‹¤ë©´ [https://www.gatsbyjs.org/docs/themes/shadowing/](https://www.gatsbyjs.org/docs/themes/shadowing/) ë¥¼ ì°¸ê³ í•˜ì. 

ì—¬ê¸°ì„œëŠ” ì´ë ‡ê²Œ ë§í•œë‹¤. 

> Generally speaking you will want to place your files into src/@lekoarts/gatsby-theme-minimal-blog/ to shadow/override files.

src í´ë” í•˜ìœ„ì— `@lekoarts/gatsby-theme-minimal-blog` í´ë”ë¥¼ ë§Œë“¤ê³  ì‰ë„ì‰í•˜ê³  ì‹¶ì€ íŒŒì¼ì„ ë„£ìœ¼ë©´ ëœë‹¤. ë¬¼ë¡  í´ë”ëª…ì€ ìœ„ì—ì„œ ë§í•œ ìŠ¤íƒ€í„°url ì´ë¯€ë¡œ, ë‹¤ë¥¸ í…Œë§ˆë¥¼ ë°›ì•˜ë‹¤ë©´ í•´ë‹¹í•˜ëŠ” ì´ë¦„ìœ¼ë¡œ í´ë”ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤. ì‰ë„ì‰ì„ ì‹œì‘í•˜ê¸° ìœ„í•´ì„œ, `src/@lekoarts/gatsby-theme-minimal-blog/` ë¥¼ ë§Œë“ ë‹¤.

ì´ë ‡ê²Œ êµ¬ì„±í•œ í›„, [ìŠ¤íƒ€í„° ë ˆí¬](https://github.com/LekoArts/gatsby-themes/tree/master/themes/gatsby-theme-minimal-blog/src) ì— ë“¤ì–´ê°€ë³´ë©´ êµ¬ì„±ì„ ë³¼ ìˆ˜ ìˆë‹¤. í•´ë‹¹ í´ë” í•˜ìœ„ì˜ íŒŒì¼ë“¤ì„ **ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì.**  ì´ì œ ì´ íŒŒì¼ë“¤ì„ ë³€ê²½í•˜ë©´ ë³€ê²½ì‚¬í•­ì´ ë¸”ë¡œê·¸ì— ì ìš©ëœë‹¤.

### ì½”ë“œì—ë””í„°ê°€ ì•ˆì˜ˆë»ìš”

ê°€ì¥ ë¨¼ì € `components` ì—ì„œ ì†ëŒ„ ê²ƒì€ ì½”ë“œì—ë””í„°ì¸ `code.tsx` ì´ë‹¤. prism ì´ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê³  ìˆê³ , ëª‡ê°€ì§€ í…Œë§ˆê°€ ì œê³µë˜ë¯€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” í…Œë§ˆ `nightOwl`ì´ ë§ˆìŒì— ì•ˆë“ ë‹¤ë©´ ì„ íƒí•  ìˆ˜ ìˆë‹¤. 
```typescript:title=code.tsx
import theme from "prism-react-renderer/themes/nightOwl"
```
![img/scrn_6.png](img/scrn_6.png)

ì—¬ëŸ¬ê°€ì§€ë¥¼ í•´ë³¸ ê²°ê³¼, ë‹¤ì‹œ nightOwlë¡œ ëŒì•„ì™”ë‹¤. 

![img/scrn.png](img/scrn.png)

ê·¸ ë‹¤ìŒì€ ì½”ë“œ ì—ë””í„°ì˜ í°íŠ¸ë¥¼ ì¡°ì •í•´ì¤€ë‹¤. ì°ì–´ë³´ë‹ˆ í˜„ì¬ ì½”ë“œì—ë””í„° í°íŠ¸ëŠ” `monospace` ì´ê³ , ë„ˆë¬´ ì‘ë‹¤. ì´ ë¶€ë¶„ì€ `src/styles` í•˜ìœ„ì— `code.ts` ë¥¼ ì‰ë„ì‰í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.  
```typescript:title=code.ts
    export default {
      "[data-name='live-editor']": {
        padding: (t: any) => `${t.space[2]} !important`,
        fontFamily: `'menlo', 'monaco','monospace'`,
        fontSize: 1,
      },
      "[data-name='live-preview']": {
        padding: (t: any) => `calc(${t.space[2]} + 10px) !important`,
        fontFamily: `'menlo', 'monaco','monospace'`,
        backgroundColor: tint(`primary`, 0.7),
    
    .... 
    ".gatsby-highlight": {
        fontSize: 1.2,
```

live-editorì™€ live-preview íƒœê·¸ì— fontFamilyë¥¼ ì§€ì •í•´ì¤€ë‹¤. menloì™€ monaco, ê·¸ê²ƒë„ ì—†ìœ¼ë©´ monospaceê°€ ì§€ì •ëœë‹¤. gatsby-highlight íƒœê·¸ì—ëŠ” í°íŠ¸ì‚¬ì´ì¦ˆë¥¼ ì¡°ê¸ˆ ëŠ˜ë ¤ì£¼ì—ˆë‹¤.

### ë©”ì¸ ìƒ‰ ë³€ê²½í•˜ê¸°

ì–´ ê·¸ëŸ°ë°... ë©”ì¸ìƒ‰ì€ ì–´ë””ì„œ ë°”ê¾¸ì§€..? ğŸ¤” `components` ì—ëŠ” ìƒ‰ì´ primary ë¼ëŠ” ì´ë¦„ìœ¼ë¡œë§Œ ì¨ì ¸, ì§ì ‘ì ìœ¼ë¡œ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•˜ê²Œ ë˜ì–´ìˆë‹¤. 

ì•Œê³  ë³´ë‹ˆ, í•´ë‹¹ ìŠ¤íƒ€í„°ê°€ `gatsby-plugin-theme-ui` ì¦‰ theme ui ì˜ gatsby ë²„ì „ì— ì˜ì¡´ì„±ì´ ìˆì–´ì„œ ì´ ë¶€ë¶„ ì—­ì‹œ ì‰ë„ì‰ì„ í•´ì£¼ì–´ì•¼í•œë‹¤. ìœ„ì—ì„œ ì˜ ë³µì‚¬í–ˆë‹¤ë©´ `src/gatsby-plugin-theme-ui` í´ë”ë„ í¬í•¨ë˜ì–´ìˆì„ ê²ƒì´ë‹¤. ìˆ˜ì •í•  ë¶€ë¶„ì€ index.js ë‚´ë¶€ë‹¤.
```typescript:title=index.js
    export default {
      ...tailwind,
      initialColorMode: `light`,
      useCustomProperties: true,
      colors: {
        ...tailwind.colors,
        primary: `#ffaf12`,
        secondary: `#5f6c80`,
        toggleIcon: tailwind.colors.gray[8],
        heading: tailwind.colors.black,
        divide: tailwind.colors.gray[4],
        modes: {
          dark: {
            text: tailwind.colors.gray[4],
            primary: `#ffaf12`,
            secondary: `#7f8ea3`,
            toggleIcon: tailwind.colors.gray[4],
            background: `#1A202C`,
            heading: tailwind.colors.white,
            divide: tailwind.colors.gray[8],
          },
        },
      },
```
ë¼ì´íŠ¸ëª¨ë“œì˜ ìƒ‰ ì„¤ì •ì´ ê¸°ë³¸, ë‹¤í¬ëª¨ë“œëŠ” ì•„ë˜ì— ë”°ë¡œ ì í˜€ìˆë‹¤. primary ë¥¼ `tailwind` í…Œë§ˆì˜ purpleì—ì„œ 2020 íŒ¬í†¤ ì»¬ëŸ¬ì¤‘ í•˜ë‚˜ì¸ ìƒˆí”„ë¡ ìœ¼ë¡œ ë³€ê²½í–ˆë‹¤. `#ffaf12` ì¥ê³ ê±¸ìŠ¤ì™€ ë¹„ìŠ·í•œ ì»¬ëŸ¬! 

![img/scrn_5.png](img/scrn_5.png)

![img/scrn_9.png](img/scrn_9.png)

## ê¸€ ì˜®ê¸°ê¸° && ì´ë¯¸ì§€ ì˜®ê¸°ê¸°

### mdx í¬ë§·

ê¸°ì¡´ jekyll ë¸”ë¡œê·¸ëŠ” ë§ˆí¬ë‹¤ìš´ ê¸€ì„ ê¸°ë°˜ìœ¼ë¡œ í–ˆìœ¼ë¯€ë¡œ, ìˆ˜ì›”í•˜ê²Œ ì˜®ê¸¸ ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° ì´ ìŠ¤íƒ€í„°ì—ëŠ” `.md`ê°€ ì•„ë‹ˆë¼ `.mdx` í¬ë§·ì´ ì§€ì •ë˜ì–´ìˆë‹¤. mdxëŠ” ë§ˆí¬ë‹¤ìš´íŒŒì¼ì—ì„œ JSXë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í¬ë§·ì´ë‹¤. ë§ˆí¬ë‹¤ìš´ì„ì—ë„ JSX ë¬¸ë²•ì„ ì‚¬ìš©í•˜ê³  í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤. ìì„¸í•œ ê²ƒì€ ë‹¤ìŒ ë§í¬ë¥¼ ì°¸ì¡°í•˜ì. [https://mdxjs.com/](https://mdxjs.com/)

ì¦‰ ê¸°ì¡´ì˜ ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œëŠ” í¬ë§·ì„ ë°”ê¿”ì£¼ëŠ” ê²ƒìœ¼ë¡œ ê±°ì˜ ì™„ë²½í•˜ê²Œ ë™ì‘í•œë‹¤. ë‹¤ë§Œ ì´ ìŠ¤íƒ€í„°ì—ì„œëŠ” í´ë” ì•„ë˜ index.mdx ë¼ëŠ” í˜•íƒœë¡œ ë“¤ì–´ê°€ì•¼í•˜ê³ , frontmatterê°€ ê¸°ì¡´ê²ƒê³¼ ë‹¤ë¥´ë¯€ë¡œ ì´ë¥¼ ì˜®ê²¨ì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë§Œë“¤ì—ˆë‹¤. 

### ì „ì²´ë¥¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì˜®ê²¨ì£¼ì„¸ìš”

íŒŒì¼ì„ `í´ë”/íŒŒì¼` í˜•ì‹ìœ¼ë¡œ ë°”ê¾¸ê¸° ìœ„í•´ ê°„ë‹¨í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì§°ë‹¤.
```bash
    #! /bin/bash
    
    for file in _posts/*
    do
        mkdir ${file%%.*}
    	cp ${file} ${file%%.*}/index.mdx
    done
```
ì´ë ‡ê²Œ ì˜®ê¸°ê³  ë³´ë‹ˆ, ë¬¸ì œê°€ ìƒê²¼ë‹¤. ì²«ë²ˆì§¸ëŠ” frontmatterì— `layout: post` ê°€ ë“¤ì–´ìˆìœ¼ë©´ ì •ìƒì¸ì‹ì„ ëª»í•˜ëŠ” í˜„ìƒ. ì´ ë¶€ë¶„ì€ í•´ë‹¹ ê¸€ìë¥¼ ë¹ˆ ìºë¦­í„°ë¡œ ëŒ€ì²´í•´ì£¼ë©´ í•´ê²°ë˜ëŠ” ë¬¸ì œ. ë‘ë²ˆì§¸ëŠ” slug ê°€ ìë™ìœ¼ë¡œ ê¸€ íƒ€ì´í‹€ë¡œ ì •í•´ì§€ëŠ” ë¬¸ì œì˜€ë‹¤. ê¸°ì¡´ì˜ ë§í¬ë¥¼ ê¼­ ì‚´ë¦¬ê³  ì‹¶ì—ˆê¸°ì—, ì´ ë¶€ë¶„ì€ ìˆ˜ì •ì„ í•´ì•¼í–ˆë‹¤. ê¸°ì¡´ì—ëŠ” `ë‚ ì§œ/ê¸€ì œëª©` ìœ¼ë¡œ url ì´ ìƒê²¼ëŠ”ë°, ìƒˆë¡œìš´ í¬ë§·ì—ì„œëŠ” `ê¸€ì œëª©` ìœ¼ë¡œ slugê°€ ì •í•´ì¡Œë‹¤. 

ìŠ¤íƒ€í„°ì—ì„œ ì»¤ìŠ¤í…€ì´ ë¶ˆê°€ëŠ¥í•´ì„œ, [ì´ìŠˆ](https://github.com/LekoArts/gatsby-themes/issues/217)ë¥¼ ì˜¬ë ¸ë”ë‹ˆ 9ì‹œê°„ë§Œì— ìˆ˜ì •í•´ì„œ ë²„ì „ì„ ì˜¬ë ¤ì¤¬ë‹¤. ë©”ì¸í…Œì´ë„ˆì—ê²Œ ê¼­ ë§ì„ í•´ë³´ë„ë¡í•˜ì! ğŸ‘€ ê·¸ ê²°ê³¼ frontmatterì— slugë¥¼ ì¶”ê°€í•˜ë©´ urlì„ ë³€ê²½í•  ìˆ˜ ìˆì—ˆë‹¤. 

ìœ„ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.
```python3:title=slug.py
    #!/usr/bin/env python3 
    import fileinput
    import os
    
    path = "./"
    file_list = os.listdir(path)
    md_list = [file for file in file_list if file.endswith(".md")]
    print(md_list)
    
    for filename in md_list:
    	slug = '/' + filename[0:10] + '/' + filename[11:-3]
    	print(slug)
    	with fileinput.FileInput(filename, inplace=True) as file:
    		for line in file:
    			print(line.replace('layout: post', 'slug: ' + '"' + slug + '"'), end='')
    		file.close()
```
íŒŒì´ì¬ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¨¼ì € ëŒë¦¬ê³  ìœ„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ëŒë¦¬ë©´ ëª¨ë“  ê¸€ì´ í›Œë¥­í•˜ê²Œ ë§ˆì´ê·¸ë ˆì´ì…˜ëœë‹¤.

## ë‚ ì§œ í˜•ì‹ì´ ì™œì´ë˜ìš”? && excerpt(ë°œì·Œ) ë¥¼ ë³´ê³  ì‹¶ì–´ìš”

ì´ì œ ê±°ì˜ ë‹¤ ì •ë¦¬ë˜ì—ˆê² ì§€? ë¼ëŠ” ë‚´ ëˆˆì— ë³´ì¸ ë‘ ê°€ì§€. ë‚ ì§œ í˜•ì‹ì´ ì™œ **ìœ ëŸ½ì‹**ì´ê³ .. ì™œ **ê¸€ ë³¸ë¬¸ì´ ì¡°ê¸ˆ**ì´ë¼ë„ ì•ˆë³´ì´ì§€? 

![img/scrn_91.png](img/scrn_91.png)

í•œêµ­ì–´ë¡œ ì“°ì—¬ì§„ í•œê¸€ ë¸”ë¡œê·¸ ì¸ì§€ë¼, ë‹¹ì—°íˆ `YYYY.MM.DD` ê°€ í¸í•œë° ì—¬ê¸°ì„œëŠ” `DD.MM.YYYY` ë¡œ ë³´ì—¬ì£¼ê³  ìˆì—ˆë‹¤. ê·¸ë¦¬ê³  ë…ì(ë‚˜)ì˜ ê¸°ì–µì„ ì‚´ë ¤ì¤„ ë°œì·Œë¬¸ì„ í•œë²ˆì— ë³¼ ìˆ˜ê°€ ì—†ì—ˆë‹¤. ì»´í¬ë„ŒíŠ¸ëŠ” GraphQL ì´ ê°€ì ¸ì˜¨ëŒ€ë¡œ ë¿Œë¦¬ê³  ìˆì„í…Œë‹ˆ, ì¿¼ë¦¬ë¬¸ì—ì„œ ë³€ê²½ì´ í•„ìš”í–ˆë‹¤.

ì•„ë‹ˆë‚˜ ë‹¤ë¥¼ê¹Œ, `templates` í´ë” í•˜ìœ„ì— ìˆëŠ” `blog-query.tsx` í•­ëª©ì„ ì‚´í´ë³´ë‹ˆ ì¿¼ë¦¬ê°€ ë‹¤ìŒê³¼ ê°™ì´ ë˜ì–´ìˆì—ˆë‹¤.
```typescript
    export const query = graphql`
      query {
        posts: allPost(sort: { fields: date, order: DESC }) {
          nodes {
            slug
            title
            date(formatString: "DD.MM.YYYY")
            tags {
              name
              slug
            }
          }
        }
      }
    `
```
ë¸”ë¡œê·¸ í™”ë©´ì—ì„œëŠ” slug, title, date, tags ì •ë³´ë§Œ fetchí•˜ê³ , ê·¸ ê°’ì„ ë¦¬ìŠ¤íŒ… ì»´í¬ë„ŒíŠ¸ - ë¸”ë¡œê·¸ ë¦¬ìŠ¤íŒ… ì»´í¬ë„ŒíŠ¸ì— ê³„ì† ë„˜ê²¨ì£¼ë©´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ì•˜ë‹¤. ë‚ ì§œ í¬ë§·ë„ ìˆ˜ì •í•  ìˆ˜ ìˆì–´, ì´ë¯¸ ì‰ë„ì‰ ë˜ì–´ìˆëŠ” ì´ ì¿¼ë¦¬ë¥¼ ìˆ˜ì •í•˜ë©´ ë  ì¤„ ì•Œì•˜ìœ¼ë‚˜..! 

ì‘ë™í•˜ì§€ ì•Šì•˜ë‹¤.

shadowing GraphQL ì„ í‚¤ì›Œë“œë¡œ ë¶€ë´ë¶€ë´ ìŠ¤íƒ€í„°ì™€ gastby í”„ë¡œì íŠ¸ì— ê²€ìƒ‰í•´ë³´ì•˜ë‹¤. ì‘ë…„ 10ì›”ê¹Œì§€ë§Œ í•´ë„ gastbyì—ì„œ ì§€ì›ë˜ì§€ ì•Šì•˜ê³ , ì‘ë…„ 11ì›”ì— PRë¨¸ì§€ê°€ ëœ ê¸°ëŠ¥ì´ì—ˆë‹¤. [https://github.com/LekoArts/gatsby-themes/issues/100](https://github.com/LekoArts/gatsby-themes/issues/100) ì§€ê¸ˆì€ ë™ì‘í•´ì•¼í•˜ëŠ”ë°.. 

ëŒ“ê¸€ì„ ë‹¬ê³  ì´ê²ƒì €ê²ƒ í…ŒìŠ¤íŠ¸í•´ë³´ì•˜ì§€ë§Œ ê²°êµ­ shadowingìœ¼ë¡œ ì‘ë™í•˜ì§€ ì•Šì•˜ë‹¤. ëŒ€ì‹  static query hookì„ ì‚¬ìš©í•´ì„œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤. ë¬¸ì„œëŠ” ì—¬ê¸°ì—. [https://www.gatsbyjs.org/docs/use-static-query/](https://www.gatsbyjs.org/docs/use-static-query/) 

use-post.tsx íŒŒì¼ì„ ë§Œë“¤ê³ , ì›í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ í•´ë‹¹ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
```typescript:title=use-post.tsx
    import { graphql, useStaticQuery } from "gatsby"
    
    type Props = {
      posts: {
        slug: string
        title: string
        date: string
        excerpt: string
        description: string
        tags?: {
          name: string
          slug: string
        }[]
      }[]
    }
    
    const usePosts = () => {
      const data = useStaticQuery<Props>(graphql`
      query {
        posts: allPost(sort: { fields: date, order: DESC }) {
          nodes {
            slug
            title
            date(formatString: "YYYY.MM.DD")
            excerpt
            description
            tags {
              name
              slug
            }
          }
        }
      }
    `)
    
      return data.posts
    }
    
    export default usePosts

    const p = usePosts()
    
    <Listing posts={p.nodes} sx={{ mt: [4, 5] }} /> 
```
ê·¸ë¦¬ê³  ì›ë˜ postsë¼ëŠ” ê°’ì„ ë„˜ê²¨ì£¼ë˜ ìë¦¬ì— p.nodesë¥¼ ë„˜ê²¨ì£¼ë„ë¡ í–ˆë‹¤. 

![img/scrn_7.png](img/scrn_7.png)

:tada: !  ğŸ‘©â€ğŸ”§

## ëŒ“ê¸€ ë¶™ì´ê¸°

[utterances](https://utteranc.es/) ëŠ” github issueë¥¼ í†µí•´ ëŒ“ê¸€ì„ ì§€ì›í•´ì£¼ëŠ” ì„œë¹„ìŠ¤ì´ë‹¤. ëŒ“ê¸€ ì¡°ì°¨ ì˜®ê²¨ì˜¤ê³  ì‹¶ì—ˆì§€ë§Œ, ìƒˆë¡œìš´ ë ˆí¬ë¥¼ ë§Œë“  ê´€ê³„ë¡œ ì§ì ‘ ì˜®ê¸°ì§€ ì•Šê³ ëŠ” ì¢€ ì–´ë µê²Œ ë˜ì—ˆë‹¤. utterances  ëŠ” js ë¡œ ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸ë¥¼ ì œê³µí•˜ì§€ë§Œ, êµ¬ê¸€ë§ ê²°ê³¼ ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì˜ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì„ ë°œê²¬í–ˆë‹¤. [iamchanni ë¸”ë¡œê·¸](https://velog.io/@iamchanii/build-a-blog-with-gatsby-and-typescript-part-4) ì—ì„œ ìì„¸íˆ ì„¤ëª…ë˜ì–´ìˆê¸°ì—, react ë¡œ ë§Œë“  utterances componentë¥¼ ì°¨ìš©í•´ ì‚¬ìš©í–ˆë‹¤. ê³ ë§™ìŠµë‹ˆë‹¤.

## RSS í”¼ë“œ ë§Œë“¤ê¸°

ë¸”ë¡œê·¸ ì£¼ ìœ ì… ê²½ë¡œì¸ daily devlogì— ì˜¬ë¦¬ê¸° ìœ„í•´ì„œëŠ” rss í”¼ë“œê°€ í•„ìš”í•˜ë‹¤. í”ŒëŸ¬ê·¸ì¸ì˜ ê°•ì gatsby ë‹µê²Œ ì´ëŸ° ë¶€ë¶„ë„ ì‰½ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. [í”¼ë“œ í”ŒëŸ¬ê·¸ì¸ ë§í¬](https://www.gatsbyjs.org/packages/gatsby-plugin-feed/)
```bash
    npm install --save gatsby-plugin-feed
```
ìœ„ ëª…ë ¹ì–´ë¡œ feed pluginì„ ì„¤ì¹˜í•˜ê³ , `gatsby-config.js` ì— ì„¤ì •í•´ì¤€ë‹¤. ìœ„ ë§í¬ì—ì„œì™€ ì¿¼ë¦¬ê°€ ë‹¬ë¼ì„œ, ì§ì ‘ ëª‡ê°€ì§€ë¥¼ ì»¤ìŠ¤í…€í•œ ê²ƒì„ ì œì™¸í•˜ê³  í° ë¬¸ì œê°€ ì—†ì—ˆë‹¤. 

gatsby develop ìœ¼ë¡œëŠ” ë§Œë“¤ì–´ì§€ì§€ ì•Šìœ¼ë‹ˆ, ê¼­ `gatsby build && gatsby serve`  ëª…ë ¹ì–´ë¡œ xml ë¥¼ í™•ì¸í•´ë³¸ë‹¤.

## êµ¬ê¸€ analytics id ì˜®ê¸°ê¸°

í•´ë‹¹ ìŠ¤íƒ€í„°ì—ëŠ” ì´ë¯¸ google analytics pluginì´ ì„¤ì¹˜ë˜ì–´ìˆê¸°ë•Œë¬¸ì—, tracking IDë§Œ ë„£ì–´ì£¼ë©´ëœë‹¤. 
```js
    plugins: [
        {
          resolve: `@lekoarts/gatsby-theme-minimal-blog`,
          options: {
    
          },
        },
        {
          resolve: `gatsby-plugin-google-analytics`,
          options: {
            trackingId: `UA-<trackingID>`,
          },
```
ëŒ€ì‹  ì´ê±¸ ë°°í¬í•˜ê¸° ì§ì „ì— ê¸°ì¡´ [https://juneyr.dev](https://juneyr.dev) ë„ë©”ì¸ì„ ì‚¬ìš©í•˜ë˜ github pages ë°°í¬ëŠ” ì¤‘ë‹¨í–ˆë‹¤. ê·¸ìª½ìœ¼ë¡œ ìœ ì…ë˜ë©´ ì´ì „ ë¸”ë¡œê·¸ì˜ ìˆ˜ì¹˜ê°€ ê°™ì´ ì¡íˆê²Œ ë  ê²ƒì´ë¯€ë¡œ. 

## ë°°í¬

ë°°í¬ëŠ” gatsbyì™€ ì¡°í•©ì´ ì¢‹ë‹¤ëŠ” netlifyë¥¼ ì‚¬ìš©í–ˆë‹¤. [https://netlify.com/](https://netlify.com/)  ì˜ ì‚¬ìš©ë²•ì€ ì¸í„°ë„·ì— ë§ì´ ìˆìœ¼ë‹ˆ ê²€ìƒ‰í•´ë³´ë©´ ì¢‹ê² ë‹¤. ê°œì¸ì ìœ¼ë¡œëŠ” [https://velog.io/@godori/netlify-branch-sub-domain](https://velog.io/@godori/netlify-branch-sub-domain) ê¸€ì—ì„œ ë§ì€ ë„ì›€ì„ ì–»ì—ˆë‹¤. github ë¡œê·¸ì¸ê³¼ ë ˆí¬ ì„¤ì •, ë¹Œë“œ ì»¤ë§¨ë“œë¥¼ ë„£ëŠ” ê²ƒë§Œìœ¼ë¡œ ì‰½ê²Œ ì •ì  ì‚¬ì´íŠ¸ë¥¼ ë°°í¬í•  ìˆ˜ ìˆë‹¤.

## ëì¸ê°€? ğŸ‘©â€ğŸ”§

ì™„ì„±ëœ ë¸”ë¡œê·¸ëŠ” í•´ë‹¹ ë„ë©”ì¸ ê·¸ëŒ€ë¡œ,  [https://juneyr.dev](https://juneyr.dev) ì—ì„œ ë³¼ ìˆ˜ ìˆë‹¤. ì•„ì£¼ ë§ˆìŒì— ë“¤ì§„ ì•Šì§€ë§Œ, ì¡°ê¸ˆì”© ê³ ì³ë‚˜ê°ˆ ì˜ˆì •ì´ë‹¤. 

![img/scrn_8.png](img/scrn_8.png)

### TO-BE

1. notionì„  CMS ë¡œ ì‚¬ìš©í• ê¹Œ? [https://tony.so/how-i-use-notion-as-my-cms-for-my-gatsby-site/](https://tony.so/how-i-use-notion-as-my-cms-for-my-gatsby-site/) ë¼ëŠ” ê¸€ë„ ìˆê³  casper ì¸ê°€ì—ì„œ notionì„ CMS ì‚¬ë¡€ë¡œ ì“°ëŠ” ê²ƒì„ ë³´ì•˜ë‹¤. í˜„ì¬ë„ ë¸”ë¡œê·¸ë¥¼ notionì—ì„œ ì¨ì„œ ì˜®ê¸°ê³  ìˆëŠ”ë°, ê·¸ëŸ´ ë°”ì—ëŠ” notionê¸€ì„ í†µìœ¼ë¡œ ì˜®ê²¨ì˜¤ëŠ”ê²Œ. 

2. toc ì ìš© - ê¸€ì˜ í˜¸í¡ì´ ê¸¸ì–´ì§ˆìˆ˜ë¡ table of contents ê°€ ì—†ì´ëŠ” ì½ê¸° ì–´ë µë‹¤. 

3. ë§ˆì´ë„ˆí•œ íŒ¨ì¹˜ - í•„ìš”í•œ queryê°€ ì—†ëŠ” í™”ë©´ë“¤ì´ ìˆë‹¤. 
   - ì´ ë¶€ë¶„ì—ì„œ ì¢€ë” ë³€ê²½ì´ í•„ìš”í•˜ë‹¤. ì´ í™”ë©´ë“¤ì€ slug ë“± variableì„ ìš”êµ¬í•˜ëŠ”ë°, `useStaticQuery` ëŠ” static query ì¸ ë§Œí¼ ì´ ê¸°ëŠ¥ì„ ì§€ì›ì•ˆí•œë‹¤ê³ í•˜ë„¤.  

gatsby ì™€ netlify ì˜ ì¡°í•©ì€ ì •ë§ ì‰¬ì›Œì„œ, ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•˜ëŠ” ì‚¬ëŒë“¤ì—ê²Œ ê°•ì¶”í•˜ê³ ì‹¶ë‹¤. ë‹¤ë§Œ ì»¤ìŠ¤í…€í•˜ê¸°ê¹Œì§€ê°€ ì¡°ê¸ˆ í˜ë“¤ì—ˆëŠ”ë°, ì´ëŸ° ê²½í—˜ì„ ì‚´ë ¤ì„œ ê°„ë‹¨í•œ ì›Œí¬ìƒµ í•´ë³´ê³ ì‹¶ë‹¤. ğŸ˜ ë‚˜ ì—­ì‹œ ì¥ê³ ê±¸ìŠ¤ ì›Œí¬ìƒµì—ì„œ ë¸”ë¡œê·¸ë¥¼ ì²˜ìŒ ë§Œë“¤ì—ˆìœ¼ë‹ˆ!

## ì°¸ê³ 

[https://www.gatsbyjs.org/starters/?v=2](https://www.gatsbyjs.org/starters/?v=2)

[https://blog.outsider.ne.kr/1426](https://blog.outsider.ne.kr/1426) 

[https://velog.io/@iamchanii/build-a-blog-with-gatsby-and-typescript-part-4](https://velog.io/@iamchanii/build-a-blog-with-gatsby-and-typescript-part-4)

[https://velog.io/@godori/netlify-branch-sub-domain](https://velog.io/@godori/netlify-branch-sub-domain) 

[https://tony.so/how-i-use-notion-as-my-cms-for-my-gatsby-site/](https://tony.so/how-i-use-notion-as-my-cms-for-my-gatsby-site/)
