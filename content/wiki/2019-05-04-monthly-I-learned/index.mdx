---
slug: "/2019-05-04/monthly-I-learned"
updated: 2020-03-09 14:21
title: MIL(Monthly I learned) 4ì›” ê³µìœ 
date: 2019-05-04
tags: 
    - Java
    - Code Review
---

TIL (Today I Learned) ëŠ” ë§¤ì¼ ë§¤ì¼ ë°°ìš´ ì ì„ ì ëŠ” ê²ƒì¸ë°ìš”. 

ë§¤ì¼ ë§¤ì¼ ë¬´ì–¸ê°€ë¥¼ ì§€ì†í•´ë‚˜ê°„ë‹¤ëŠ” ê±´ ì°¸ìœ¼ë¡œ í˜ë“  ì¼ì´ë„¤ìš”.

ê·¸ë˜ë„ ë‹¤ë‹¬ì´ í•˜ë‚˜ì¯¤ ê³µìœ í•˜ëŠ” ê±´ ì–´ë µì§€ ì•Šì„ í…Œë‹ˆ, ì—´ì‹¬íˆ ì •ë¦¬í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤. 


### DTO (Data Transfer Object) ë§Œë“¤ ë•Œ annotation íŒ 

* í•„ë“œ í•˜ë‚˜ë§Œ ë°”ê¿”ì•¼ í•˜ë©´ JsonProperty,
* í´ë˜ìŠ¤ ë ˆë²¨ì—ì„œ ì „ëµì„ ì ìš©í•´ì„œ ì¼ê´„ë¡œ ë°”ê¾¸ë ¤ë©´ JsonNaming,
* ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ ì „ëµì„ ì ìš©í•´ì„œ ì¼ê´„ë¡œ ë°”ê¾¸ë ¤ë©´ í”„ë¡œí¼í‹° íŒŒì¼ì—ì„œ spring.jackson.property-naming-strateg ì„ í†µí•´ ë°”ê¾¸ë©´ ì—„ì²­ í¸í•´ìš”. 

by ì‚¬ìˆ˜ë‹˜


### JPA ì—ì„œ ì—¬ëŸ¬ ì¹¼ëŸ¼ì„ í•©ì³ì„œ unique keyë¥¼ ê±¸ê³  ì‹¶ì„ ë•Œ 

ì˜ˆë¥¼ ë“¤ì–´ ì¹¼ëŸ¼ì— ì´ë¦„ì™€ ì´ë©”ì¼ì´ ìˆëŠ”ë° í•©ì³ì„œ unique keyë¥¼ ê±¸ê³  ì‹¶ë‹¤ëŠ” ë§ì€, 

(june, "abcd@naver.com") ê³¼ (june, "abcd@gmail.com") ì€ ì¤‘ë³µí•´ì„œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆì§€ë§Œ 

ì´ë¦„ë„ ì´ë©”ì¼ë„ ê°™ì€ ê²½ìš°ëŠ” ë“¤ì–´ê°ˆ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤. 

ê·¸ëŸ´ ë• ì—”í‹°í‹° ìœ„ì— ë‹¤ìŒê³¼ ê°™ì´ ì ì–´ì£¼ì. 

```java
@Table(name = "í…Œì´ë¸”ì´ë¦„",
 uniqueConstraints = { @UniqueConstraint(columnNames = { "ì¹¼ëŸ¼ì´ë¦„1", "ì¹¼ëŸ¼ì´ë¦„2", "ì¹¼ëŸ¼ì´ë¦„3"})})

```

### queryDsl ì—ì„œ ì•ë’¤ë¡œ Likeê²€ìƒ‰í•˜ê¸° 

`containsIgnoreCase` ì‚¬ìš© 


### Java Optional ì‚¬ìš© ì‹œ 

* orElseThrow ëŠ” getOrElseThrow ë¥¼ ì¤„ì¸ ê²ƒ. ì¦‰, emptyë„ ì¡ì•„ì¤€ë‹¤ ! 

### JPAì—ì„œ id Listë¡œ ê²€ìƒ‰í•˜ê³  ì‹¶ì„ ë•Œ 


* `findByIdIn` ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤. idListë¥¼ ë„˜ê²¨ì£¼ë©´ í•´ë‹¹í•˜ëŠ” ê°’ë“¤ì´ entityë¡œ ë½‘í˜€ë‚˜ì˜¨ë‹¤. 

* í•˜ì§€ë§Œ ì£¼ì˜! idListì˜ ìˆœì„œëŒ€ë¡œ ë‚˜ì˜¤ì§€ëŠ” ì•ŠëŠ”ë‹¤. í…Œì´ë¸”ì—ì„œ ë§¤ê¸´ ë­í¬ (id ê°’)ìœ¼ë¡œ ë‚˜ì˜´. 

* ê·¸ë˜ì„œ ë‚˜ëŠ” ë”°ë¡œ streamìœ¼ë¡œ sorted í•´ì£¼ì—ˆë‹¤. 

* `sorted(Comparator.comparingInt(o -> idList.getIndexof(o.getId)))` ì˜€ë˜ ê²ƒ ê°™ì€ë°. ì†ŒìŠ¤ê°€ ê¸°ì–µì€ ì•ˆë‚œë‹¤. idListì˜ ì¸ë±ìŠ¤ë¡œ ë¹„êµí•´ì„œ ë‹¤ì‹œ ì •ë ¬í•´ì¤Œ. 

* ë§¤ìš° ì¹­ì°¬ ë°›ì•˜ë‹¤. ğŸ˜™


### brew cask ì™€ì˜ ë§Œë‚¨ 

java 11 ë¡œ ì—…ë°ì´íŠ¸í•˜ë©´ì„œ ë§Œë‚˜ê²Œ ë˜ì—ˆìŒ. 

* ì»¤ë§¨ë“œë¼ì¸ì—ì„œ ë§¥ìš© ì–´í”Œì„ ì„¤ì¹˜í•˜ê²Œ í•´ì£¼ëŠ” ìœ í‹¸ë¦¬í‹° 
* ì¦‰, ê·¸ëƒ¥ ì•±ë“¤ë„ ì„¤ì¹˜ ê°€ëŠ¥ 
* brewê°€ ì´ë¯¸ ìˆë‹¤ë©´ `brew tap caskroom/cask` ë¡œ ì„¤ì¹˜ê°€ ê°€ëŠ¥í•¨.
* `brew cask search ì–´í”Œì´ë¦„` ì–´í”Œì„ ì°¾ì„ìˆ˜ìˆìŒ

```bash 
#1. Install homebrew

/usr/bin/ruby -e "$(curl -fsSLÂ https://raw.githubusercontent.com/Homebrew/install/master/install)"

# 2. Update homebrew if already installed:

brew update
# 3.  allow brew to lookup versions

brew tap caskroom/versions

# 4. list available java versions

brew search java

# Optional: to find out the minor version of java
brew cask info java8

# 5.install java 8 (or any other version available)
brew cask install java8

```


### @Deprecated ë„ˆëŠ” ì–´ë””ê¹Œì§€ ê°€ë‹ˆ ğŸ¤”

* Deprecated íƒœê·¸ëŠ” ì–´ë””ì—ë‚˜ ë¶™ì„ ìˆ˜ ìˆë‚˜?

* ì •ì˜ë¥¼ ë³´ì 

```java 

@Target(value={CONSTRUCTOR, 
FIELD, LOCAL_VARIABLE, 
METHOD, PACKAGE, PARAMETER, TYPE})
```
* ìƒì„±ì, í•„ë“œ, ë¡œì»¬ë³€ìˆ˜, ë©”ì†Œë“œ, íŒ¨í‚¤ì§€, íŒŒë¼ë¯¸í„°, íƒ€ì…ê¹Œì§€


### Mockito ì§ê´€ì ìœ¼ë¡œ ì´í•´í•˜ê¸° 

* `@InjectMocks` ëŠ” ìœ„ì— mockì´ë‚˜ spyë¡œ í‘œì‹œí•œ ì• ë“¤ì„ ë„£ì–´ì¤€ë‹¤.
* `@mock`ì€, ê·¸ëƒ¥ nullë¡œ í‘œì‹œ ì•ˆë  ê¹¡í†µ instance ë§Œë“¤ì–´ì£¼ëŠ”ê±°.
* `@spy`ëŠ” ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” instance ë§Œë“¤ì–´ì£¼ëŠ”ê±°. ì•ˆì— ìˆëŠ” ë¡œì§ì´ ë‹¤ ëˆë‹¤. ë¶€ë¶„ì ìœ¼ë¡œ mockingí•´ì„œ ì›í•˜ëŠ” ë™ì‘ì„ í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤. 



MIL, ë‚´ë°›ì½”ë¦¬ì²˜ëŸ¼ ì¢…ì¢… ì¨ë¨¹ì !