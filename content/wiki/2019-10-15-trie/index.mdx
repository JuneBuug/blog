---
slug: "/2019-10-15/trie"
updated: 2020-03-09 14:21
title: 'Trie êµ¬ì¡° ì¸„ë¼ì´ğŸ™†â€â™€ï¸'
date: 2019-10-15 06:30:00 +0000
toc: false
categories: [Data, Data Structure]
tags: [Data Structure]
comments: true
---


geohash ê´€ë ¨í•œ PRì„ ë³´ê³  ìˆì—ˆëŠ”ë°, ë‹¤ë¥¸ íŒ€ì›ë¶„ì´ Trieë¡œ ì ‘ê·¼í•´ë³¼ ê²ƒì„ ì œì•ˆí•´ì£¼ì‹œë”êµ°ìš”. Trie ìë£Œêµ¬ì¡°, ë¶„ëª…íˆ ì…ì‚¬ ì „ì—ëŠ” ì•Œê³  ìˆì—ˆëŠ”ë° ê¸°ì–µì•ˆë‚˜ì„œ ì •ë¦¬í•´ë´…ë‹ˆë‹¤. ğŸ˜‰

## Trie ìë£Œêµ¬ì¡° ğŸŒ´

ì–´.. ì–´ë–»ê²Œ ì½ì–´ì•¼í• ê¹Œìš”? Trieì˜ ìš©ì–´ë¥¼ ë§Œë“  Edward Fredkinì€ `retrieval` ì˜ ì¤‘ê°„ ë°œìŒì´ë‹¤ - ë¼ëŠ” ì˜ë¯¸ì—ì„œ `íŠ¸ë¦¬` ë¼ê³  ì½ì—ˆë‹¤ê³  í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ê·¸ëŸ¬ë©´ ê¸°ì¡´ì— ìˆë˜ íŠ¸ë¦¬ ìë£Œêµ¬ì¡°ì™€ í—·ê°ˆë¦¬ë‹ˆê¹Œ, ë‹¤ë¥¸ ì €ìë“¤ì€ `íŠ¸ë¼ì´` ë¼ê³  ì½ê¸° ì‹œì‘í–ˆê³ ìš”.  ì´ ê¸€ì—ì„œëŠ” íŠ¸ë¼ì´ë¼ê³  ì½ìŠµë‹ˆë‹¤. 

ê²€ìƒ‰ì„ ëª©ì ìœ¼ë¡œ í•˜ëŠ” íŠ¸ë¦¬ì˜ ì¼ì¢…ì…ë‹ˆë‹¤. ë™ì ì¸ set, í˜¹ì€ ì„œë¡œ ê´€ë ¨ì´ ìˆëŠ” arrayë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ ì£¼ë¡œ ì‚¬ìš©ë˜ëŠ”ë°, ì´ë•Œ í‚¤ëŠ” ì£¼ë¡œ `string` ì…ë‹ˆë‹¤. ì¢€ ì •ë¦¬í•´ë³´ë©´, string ì €ì¥í•˜ëŠ”ë° ê·¸ stringë“¤ ë¼ë¦¬ì˜ ê´€ê³„ë„ í‘œí˜„í•´ì¤„ ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ê°€ ë©ë‹ˆë‹¤. ê°™ì€ **ë…¸ë“œì˜ ìì‹ë“¤ì€ ê°™ì€ prefixë¥¼ ê°–ê²Œ ë©ë‹ˆë‹¤.**

ì¶”ê°€) ê·¸ ìì²´ë¡œ íŠ¸ë¦¬ ëª¨ì–‘ì˜ DFA(Deterministic finite automaton, ê° ì…ë ¥ ì‹¬ë³¼ì— ëŒ€í•´ì„œ **ìœ ì¼í•œ** ìƒíƒœ ë³€í™”ë¥¼ ì·¨í•˜ëŠ” ìœ í•œ ìƒíƒœê¸°ê³„) ë¼ê³ ë„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í‘œí˜„ì´ ì–´ë ¤ìš´ë°ìš”.  ì´ ë¶€ë¶„ì€ ê³„ì‚°ì´ë¡ ì´ë‚˜ í”„ë¡œê·¸ë˜ë°ì–¸ì–´ ê°™ì€ ê°•ì˜ë¥¼ ì°¸ê³ í•˜ì—¬ ë‚˜ì¤‘ì— ë³´ì¶©í•˜ê² ìŠµë‹ˆë‹¤.

![](../img/2019-10-15/Trie-56b6b7df-2bea-421d-bc56-38232a04281b.png)

ìœ„ ê·¸ë¦¼ì„ ë³¼ê¹Œìš”.  stringê°’ì„ ìœ„ì™€ ê°™ì´ ì €ì¥í•©ë‹ˆë‹¤.  ê°™ì€ ë¶€ëª¨ ë…¸ë“œë¥¼ ê°€ì§„ ìì‹ ë…¸ë“œ `te` ê·¸ë¦¬ê³  `to` ëŠ” prefixê°€ `t`ì…ë‹ˆë‹¤. ì•„ë˜ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤. teì˜ ìì‹ ë…¸ë“œë“¤ì€ ëª¨ë‘ teë¡œ ì‹œì‘í•©ë‹ˆë‹¤.

ì´ë ‡ê²Œ, TrieëŠ” íƒìƒ‰ì— ìˆì–´ì„œ ì´ì ì„ ê°–ëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤. Trieì— ì €ì¥ëœ ê²ƒ ì¤‘ ê°€ì¥ ê¸´ stringì˜ ê¸¸ì´ë¥¼ mì´ë¼ê³  í•˜ë©´, worst-case íƒìƒ‰ ì‹œê°„ì´ O(m)ì´ ê±¸ë¦½ë‹ˆë‹¤ğŸ¤”  

Trieë¥¼ ëŒ€ê°œ ì“°ëŠ” ê³³ì€ **ìë™ì™„ì„±** ì…ë‹ˆë‹¤. TrieëŠ” ë¹ ë¥´ê²Œ ê²€ìƒ‰í•  ìˆ˜ ìˆê³ , ìš”ì†Œë“¤ì„ ì‚½ì…ì‚­ì œí•˜ëŠ” ë°ë„ í¸ë¦¬í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ **ë§ì¶¤ë²• ê²€ì‚¬**ë‚˜ **hypenation**(ê¸€ìê°€ í•˜ì´í”ˆìœ¼ë¡œ ì—°ê²°ë˜ì—ˆëŠ”ì§€ íŒë‹¨) í”„ë¡œê·¸ë¨ì—ë„ ìœ ìš©í•˜ë‹¤ê³  í•˜ë„¤ìš”. 
ìœ„ì—ì„œ ì ê¹ ë§í–ˆì§€ë§Œ, geohash ê²€ìƒ‰ì—ë„ ìœ ìš©í•  ê²ƒ ê°™ì€ë°ìš”. ê°„ë‹¨í•œ ì„¤ëª…ì„ ë¶™ì´ìë©´, geohashëŠ” ì „ì„¸ê³„ ì§€ì—­ì„ hash ê°’ìœ¼ë¡œ í‘œí˜„í•œ ê²ƒì…ë‹ˆë‹¤. ì¢Œí‘œ -> hash ê°’ìœ¼ë¡œ ë³€í˜•í•œ ê²ƒì´ì£ . ë‹¤ë§Œ, ì¡°ê¸ˆë§Œ ì¸í’‹ì´ ë¹„ìŠ·í•´ë„ ì™„ì „íˆ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë‚˜ì™€ì•¼í•˜ëŠ” ê¸°ì¡´ì˜ hash ì•Œê³ ë¦¬ì¦˜ì˜ íŠ¹ì„±ê³¼ëŠ” ë‹¤ë¥´ê²Œ, geohashëŠ” ê·¼ì ‘í•œ ì§€ì—­ì¼ ìˆ˜ë¡ ë¹„ìŠ·í•œ hashë¥¼ ê°–ìŠµë‹ˆë‹¤. ì‚¬ì‹¤ìƒ í° ë‹¨ìœ„ì—ì„œ ê°™ì€ ì§€ì—­ì— í¬í•¨ë˜ì–´ìˆë‹¤ë©´ prefixê°€ ì™„ì „íˆ ê°™ìŠµë‹ˆë‹¤. xn21421, xn21489 ë¼ëŠ” í•´ì‹œëŠ” í° ë¶„ë¥˜ê°€ ê°™ì€ ì§€ì—­ì´ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. 

### êµ¬í˜„ì€ ì–´ë–»ê²Œ? 

ì–´ë–»ê²Œ êµ¬í˜„í•˜ëŠ” ê±´ì§€ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë´ì•¼ê² ìŠµë‹ˆë‹¤! =) 
[ë¬¸ì„œ](https://github.com/eugenp/tutorials/blob/master/data-structures/src/main/java/com/baeldung/trie/TrieNode.java)ë¥¼ ì°¸ê³ í•˜ì—¬ java êµ¬í˜„ë„ í•¨ê»˜ ì†Œê°œí•©ë‹ˆë‹¤. 
```java 
    class Node {
    		private final Map<Character, Node> children = new HashMap<>(); 
    		private String endValue; // leaf ë…¸ë“œì¼ ê²½ìš°ì— ê°’ì´ ìˆë„ë¡ í•©ë‹ˆë‹¤. isNotEmptyë¡œ ë§ë‹¨ ë…¸ë“œì¸ì§€ë„ íŒë‹¨ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    }
    
    
    
    class Trie {
    		private Node root;
    
    		Trie() {
    			root = new Node(); 
        }
    
    		void insert(String word) { // Trie êµ¬ì¡°ì— ë‹¨ì–´ë¥¼ ì‚½ì…í•©ë‹ˆë‹¤.
    			Node current = root; 
    			
    			for(char c : String word) { 
    					current = current.getChildren().computeIfAbsent(c, key -> new Node());
    			     // cë¼ëŠ” keyê°€ childrenì— ì—†ëŠ” ê²½ìš° ìƒˆë¡œìš´ Nodeë¥¼ ë§Œë“­ë‹ˆë‹¤.
    				}
    
    			current.setEndValue(word)
        }
    
    		// ì¤‘ê°„ ìƒëµ	 
    		boolean delete(String word) {
    			return delete(root, word, 0); 
    		}
    
    
    		private boolean delete(Node current, String word, int index) {
    			
    			if(index == word.length()) {
    					if (current.getEndValue().isEmpty()) {
    						return false; // ì´ ë…¸ë“œê°€ leafê°€ ì•„ë‹ˆë©´ ì´ ë…¸ë“œëŠ” ì‚­ì œ ì•ˆí•¨
            } 
             current.setEndValue(null); 
             return current.getChildren().isEmpty(); // ì´ ë…¸ë“œì˜ ìì‹ì´ ìˆìœ¼ë©´ ì´ ë…¸ë“œëŠ” ì‚­ì œ ì•ˆí•¨
          }
    
    
    			char ch = word.charAt(index);
    		  Node node = current.getChildren().get(ch); // ì²«ë²ˆì§¸ë¶€í„° ì­‰ ë•ë‹ˆë‹¤
    
    			if(node == null) {
    	      return false; // í•´ë‹¹í•˜ëŠ” ë…¸ë“œê°€ ì—†ìŒ
    			}
    			
    			boolean shouldDeleteCurrentNode = delete(node, word, index + 1) && node.getEndValue().isEmpty();
    			// í˜„ì¬ ë…¸ë“œë¥¼ ì§€ì›Œì•¼í•˜ëŠ” ì§€ëŠ” recursiveí•˜ê²Œ ëŒì•„ì•¼ì§€ ì•Œ ìˆ˜ ìˆìŒ 
    
    			if (shouldDeleteCurrentNode) {
    				 current.getChildren().remove(ch); 
             return current.getChildren().isEmpty(); // 
    			}
          return false;
        }
    }
```


## Patricia Trie í˜¹ì€ Radix Trie

![](../img/2019-10-15/PatriciaTrie-bd8918c1-13f7-45bb-a6a4-7bd9779bceba.png)

Trieì˜ ê°œì„ ë²„ì „ì…ë‹ˆë‹¤. ê³µê°„ ì‚¬ìš©ì„ ìµœì†Œí•œìœ¼ë¡œ í•˜ëŠ” Trieë¥¼ ë§í•©ë‹ˆë‹¤. ì–´ë–»ê²Œ í•˜ëŠ” ê±°ì£ ? ë§Œì•½ ê° ë…¸ë“œê°€ ìœ ì¼í•œ ìì‹ì´ë¼ë©´, **ê·¸ ë¶€ëª¨ì™€ í•©ì³ ë²„ë¦½ë‹ˆë‹¤.**  ì™¸ë™ì¸ (!!!) ìì‹ë“¤ì´ ì—†ë„ë¡ í•©ì³ë²„ë ¸ìœ¼ë‹ˆ, ê° ë‚´ë¶€ ë…¸ë“œê°€ ìì‹ì´ ìˆë‹¤ë©´ ëª¨ë‘ ë‘ ëª… ì´ìƒì´ ë©ë‹ˆë‹¤. (ë£¨íŠ¸ë…¸ë“œë¥¼ ì œì™¸í•˜êµ¬ìš”) ì›ë˜ëŠ” ê°ì í•˜ë‚˜ì˜ ë…¸ë“œë¥¼ ê°€ì¡Œì–´ì•¼í•  ì™¸ë™ ë…¸ë“œë“¤ì´ ëª¨ë‘ í•©ì³ì ¸ ë²„ë ¸ìœ¼ë‹ˆê¹Œ `space-effient`, `space-optimized` ë˜ì—ˆë‹¤ê³  ì–˜ê¸°í•˜ê³ ìš”.

ì¼ë°˜ì ì¸ íŠ¸ë¦¬ì™€ëŠ” ë‹¤ë¥´ê²Œ, ê°€ì§€ê°€ ìš”ì†Œ í•œê°œ í˜¹ì€ ì—¬ëŸ¬ê°œê°€ ìˆëŠ” ë ˆì´ë¸”ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ íŠ¹ì§• ë•ë¶„ì—, 
- ê¸´ Stringì´ê³ 
- ì‘ì€ setì´ê³ 
- ê¸´ prefixë¥¼ ê³µìœ í•˜ëŠ” stringë“¤

ì¼ ìˆ˜ë¡ ìœ ë¦¬í•©ë‹ˆë‹¤.

---


TrieëŠ” ì•Œê³ ë¦¬ì¦˜ ìˆ˜ì—…ì´ë‚˜ ìë£Œêµ¬ì¡°ì—ì„œëŠ” ë§ì´ ë‹¤ë£¨ì§€ ì•Šì§€ë§Œ ë‹¤ì–‘í•œ ê³³ì—ì„œ ì‚¬ìš©ë˜ëŠ” ìë£Œêµ¬ì¡°ë¼ê³  í•©ë‹ˆë‹¤. í•œë²ˆ ë‚˜ì¤‘ì— ë” ê¹Šê²Œ íŒŒë´ì•¼ê² ë„¤ìš”! 

ëŒ€ë¶€ë¶„ì˜ ë‚´ìš©ì€ ìœ„í‚¤í”¼ë””ì•„ë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤! í‹€ë¦° ì ì´ ìˆìœ¼ë©´ ë‘¥ê¸€ê²Œ ì½”ë©˜íŠ¸ ì£¼ì„¸ìš”. ë¬´ë¡€í•œ ëŒ“ê¸€ì€ ì‚­ì œí•©ë‹ˆë‹¤. ğŸ‘½

## ì°¸ê³ 

[https://en.wikipedia.org/wiki/Trie](https://en.wikipedia.org/wiki/Trie)

[https://en.wikipedia.org/wiki/Radix_tree](https://en.wikipedia.org/wiki/Radix_tree)

[https://www.baeldung.com/trie-java](https://www.baeldung.com/trie-java)

[https://github.com/eugenp/tutorials/blob/master/data-structures/src/main/java/com/baeldung/trie/TrieNode.java](https://github.com/eugenp/tutorials/blob/master/data-structures/src/main/java/com/baeldung/trie/TrieNode.java)